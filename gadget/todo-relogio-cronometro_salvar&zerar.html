<!DOCTYPE html>
<html lang="pt-br">

    <head>
        <!--METADADOS-->
        <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
        <meta name="format-detection" content="telephone=no"/>
        <!--TITULO DA PÁGINA-->
        <title>PAINEL DE TAREFAS</title>
        <!--LINKS EXTERNOS-->
        <link rel= "stylesheet" href= "https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity= "sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin= "anonymous">
        <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
        <link type="text/css" rel="stylesheet" href="css/todo-watch-cronometer_save&&reset.css"/>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
        <script src='js/jquery-1.8.3.min.js' type='text/javascript'></script>
        <script src='js/todo.js' type='text/javascript'></script>
    </head>
    <body>
        <noscript>
            <div class="global-site-notice noscript">
                <div class="notice-inner">
                    <p><strong>AVISO: JavaScript desabilitado!</strong><br>Você precisa habilitar o Javascript do seu navegador
                para aproveitar as funcionalidades do site.</p>
                </div>
            </div>
        </noscript>
       
        <div class="card-columns">
        <!--RELÓGIO-->
            <div id="one" class="card shadow border-light">
                <div class="card-header">
                    <div class="custom-control custom-switch float-right">
                        <input type="checkbox" class="custom-control-input" id="customSwitch1">
                        <label class="custom-control-label" for="customSwitch1" onclick="ocultarRelogio()">OCULTAR</label>
                      </div>
                    <h5 class="card-title float-left">RELÓGIO</h5>
                   
                </div>
                <div class="clearfix"></div>
                <div class="card-body">
                    <span id="relogio" class=""></span>
                </div>          
            </div>
            <!--CRONÔMETRO-->
            <div id="two"class="card shadow-lg border-warning">
                <div class="card-header">
                    <h5 class="card-title"><img src="images/cronometro.png" class="img-fluid rounded"/></h5>
                </div>
                <div class="card-body">
                    <span class="card-text" id="cronometro"></span>
                </div>
                <div class="card-footer">
                    <form action="">
                        <div class="form-row align-items-center">
                            <div class="col-4">
                                <label for="inputHoras" class="sr-only">Horas</label>
                                <select class="custom-select my-1 mr-sm-2" id="inlineFormCustomSelectPref">
                                    <option selected>Horas</option>
                                    <option value="1">1</option>
                                    <option value="2">2</option>
                                    <option value="3">3</option>
                                    <option value="4">4</option>
                                    <option value="5">5</option>
                                    <option value="6">6</option>
                                    <option value="7">7</option>
                                    <option value="8">8</option>
                                    <option value="9">9</option>
                                    <option value="10">10</option>
                                    <option value="11">11</option>
                                    <option value="12">12</option>
                                    <option value="13">13</option>
                                    <option value="14">14</option>
                                    <option value="15">15</option>
                                    <option value="16">16</option>
                                    <option value="17">17</option>
                                    <option value="18">18</option>
                                    <option value="19">19</option>
                                    <option value="20">20</option>
                                    <option value="21">21</option>
                                    <option value="22">22</option>
                                    <option value="23">23</option>
                                </select>
                            </div>
                            <div class="col-4">
                                <label for="inputHoras" class="sr-only">Minutos</label>
                                <input id="minutos" type="number" min="0" max="59" class="form-control" aria-describedby="helphoras"
                                    placeholder="Minutos" required>
                                <small id="helpminutos" class="form-text text-muted">Informe número entre 0 e 59.</small>
                            </div>
                            <div class="col-4">
                                <label for="inputHoras" class="sr-only">Segundos</label>
                                <input id="segundos" type="number" min="0" max="59" class="form-control" aria-describedby="helphoras" 
                                    placeholder="Segundos">
                                <small id="helpsegundos" class="form-text text-muted">Informe número entre 0 e 59.</small>
                            </div>
                        </div>
                    </form>
                    
                    <div class="btn-group btn-group-sm" role="group" aria-label="Botões do cronômetro">      
                        <button id="btplay" type="button" class="btn" role="button" aria-pressed="true"
                            onclick="iniciar()"><img src="images/play2.png" class=" img-fluid rounded"/> </button>
                        <button id="btsave" type="button" class="btn" role="button" aria-pressed="true"
                            onclick="iniciar()"><img src="images/salvar.png" class="img-fluid rounded"/> </button>
                        <button id="btstop" class="btn"  role="button" aria-pressed="true" onclick="zerar()"><img src="images/stop2.png" class="img-fluid rounded"/></button>
                    </div> 
                </div>
            </div>
            <div id="three" class="card shadow-lg border-dark todo" ng-app="toDoListApp">
                <div class="card-header" ng-controller="myController">
                    <h3 class="card-title text-center">COMPROMISSOS</h3>
                    <p></p>
                </div>

                <div class="card-body">
                    <div id="tarefa-list">
                        <div class="tarefa-item">
                            <h3 class="text-white"><i class="material-icons small">event_available</i>A REALIZAR</h3>
                            <ul>
                                <li ng-repeat = "activity in toDo | orderBy: 'date'">
                                    {{activity.description}} - {{activity.date | date: 'short'}}
                                </li>
                            </ul>
                            <br>
                            <div class="tarefa-delete"></div>
                            <div class="clear"></div>
                        </div>
                        <div class="tarefa-item">
                            <div class="tarefa-texto">Pagar a conta de luz + '\u00D7"</div>
                            <div class="tarefa-delete"></div>
                            <div class="clear"></div>
                        </div>
                    </div>
                </div>
                <div class="card-footer">
                    <form action="" method="post" id="shoppingForm" role="form">
                        <div class="input-group">
                            <input id="tarefa" class="form-control" type="text" name="tarefa" placeholder="Digite a tarefa e pressione ENTER"> <button id="add" class="btn btn-danger"><img src="images/adicionar.png"/></button>
                            <input type="datetime-local" class="datepicker" ng-model="newActivity.date" placeholder="Informe a data e horário">
                           
                            <button ng-click="clean()" class="right btn-floating btn-large waves-effect waves-light red"><i class="material-icons">close</i></button>
                        </div>
                      
                    </form>
                </div>
            </div>
        </div>
        <div class="card-deck">
           
            <div id="four" class="card w-50 mr-5 mt-3 float-right shadow border-primary ">
                <div class="card-header">
                    <h3 class="card-title">TAREFAS REALIZADAS</h3>
                </div>
                <div class="card-body">
                    <ul id="checked"></ul>
                </div>
                <div class="card-footer">
                    <button id="apagar" type="button" class="btn btn-outline-danger rounded-circle" data-toggle="modal" data-target="#centralModalInfo">EXCLUIR</button>
                </div>
            </div>
        </div>
  
        <div class="loading">
            <span></span>
            <span></span>
            <span></span>
        </div>
<!-- Javascript RELÓGIO-->
        <script type="text/javascript">
            var relogio = setInterval(function (){
                var agora = new Date().toLocaleTimeString();
                document.getElementById("relogio").innerHTML = agora;
                }, 1000); //variável que atualiza o relógio
            // variavel que controla o botão
                var visibilidade = true;
            function ocultarRelogio() {
                if(visibilidade) {  
                    document.getElementById("relogio").style.display = "none";
                    visibilidade = false;
                } else {  
                    document.getElementById("relogio").style.display = "block";
                    visibilidade = true;
                }     
            }
        </script>
        <script type="text/javascript">
           document.getElementById("resultados").style.display = "none";
            var contando = false;
            var horas = 0;
            var minutos = 0;
            var segundos = 0;
            var milesimos = 0;
         
            var timer = function iniciar(){
                function zero(n){return (n < 10 ? '0' : '') + n;}
                    document.getElementById('btn-4').disabled=false;
                if(contando == false){
                    milesimos ++;
                    if (milesimos == 99){
                        milesimos = 0;
                        segundos ++;
                    }
                    if (segundos == 60){
                        minutos ++;
                        segundos = 0;
                        milesimos = 0;
                    }
                    if (minutos == 60){
                        horas ++;
                        minutos = 0;
                        segundos = 0;
                        milesimos = 0;
                    }
                   
                    
                }
                document.getElementById('cronometro').innerHTML= zero(horas)+":"+zero(minutos)+":"+zero(segundos)+":"+milesimos;
                setInterval(iniciar, 10);
            }
          
            timer.addEventListener("click", iniciar); 
           

            function salvar(){
                document.getElementById("resultados").style.display = "block";
                document.getElementById('resultados').innerHTML += "RESULTADO: "+document.getElementById('cronometro').firstChild.data + "<br>";
            }
            function zerar(){
                document.getElementById("resultados").style.display = "block";
                document.getElementById('resultados').innerHTML += "RESULTADO: "+document.getElementById('cronometro').firstChild.data + "<br>";
                window.clearInterval(timer); 
                document.getElementById('cronometro').innerHTML = "00:00:00:00";
                document.getElementById('btn-4').disabled=true;
            }
            </script>
            
        
            <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
            <script
            src="https://code.jquery.com/jquery-3.5.1.min.js"
            integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
            crossorigin="anonymous"></script>
<!-- jQuery Plugins -->
<script>
    var app = angular.module("toDoListApp",["LocalStorageModule"])
.controller("myController",function($scope,localStorageService){
  if(localStorageService.get("angular-myToDoList")){
    $scope.toDo = localStorageService.get("angular-myToDoList");
  }
  else{
  $scope.toDo = [];
  }
  $scope.$watchCollection('toDo',function(newValue,oldValue){
  localStorageService.set("angular-myToDoList",$scope.toDo)    ;
});
  $scope.addActivity = function(){
    $scope.toDo.push($scope.newActivity);
    $scope.newActivity = {};
 //   localStorageService.set("angular-myToDoList",$scope.toDo); Al tener el wath nos ahorramos esta línea
    //angular-myToDoList es mi lista por hacer que va a ser buscada en el localstorage para agregar o mostrar listas de tareas. / angular-myToDoList is my list to do to be sought in the localStorage to add or display lists.
  }
    $scope.clean = function(){
      $scope.toDo = [];
   // localStorageService.set("angular-myToDoList",$scope.toDo); Al tener el wath nos ahorramos esta línea
  }
});
</script>
	</body>
</html>
